% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create-functions.R
\name{fill_moon_line}
\alias{fill_moon_line}
\title{Fill the Moon Line for a Timeline Plot}
\usage{
fill_moon_line(moonrise, moonset, total = 72, moon_symbol)
}
\arguments{
\item{moonrise}{A POSIXct or Date object representing the moonrise time.}

\item{moonset}{A POSIXct or Date object representing the moonset time. Can
be \code{NA} if the moonset occurs after midnight.}

\item{total}{An integer specifying the total number of character positions in
the timeline (default is 72).}

\item{moon_symbol}{A character string representing the symbol used to denote
the moon (e.g., \code{"☾"}).}
}
\value{
A character string of length \code{total} where positions
corresponding to the moon being up are replaced with \code{moon_symbol},
and all other positions contain a space.
}
\description{
Computes positions along a timeline where a moon symbol should be placed
based on the provided moonrise and moonset times.
}
\details{
The timeline is divided into \code{total} character positions. For each full
hour during which the moon is up, a candidate position is computed.
If the \code{moonset} time is \code{NA} (indicating that the moonset occurs
after midnight on the following day), the function plots the moon symbol
from the computed start hour (rounded based on the moonrise minute) until the
end of the timeline (hour 23).

\code{fill_moon_line()} calculates the starting hour for plotting based on
the moonrise time. When \code{moonset} is not \code{NA}, candidate positions
are computed between the rounded moonrise hour and the moonset hour,
correctly handling cases where the moonset time occurs after midnight. When
\code{moonset} is \code{NA}, it plots from the moonrise hour until the end of
the day (hour 23).
}
\examples{
\dontrun{
  # With both moonrise and moonset times:
  moonrise <- as.POSIXct("2024-05-09 05:36:04")
  moonset  <- as.POSIXct("2024-05-09 23:16:50")
  fill_moon_line(moonrise, moonset, total = 72, moon_symbol = "☾")

  # With NA moonset (moonset occurs after midnight):
  moonrise <- as.POSIXct("2024-05-10 06:10:20")
  moonset  <- NA
  fill_moon_line(moonrise, moonset, total = 72, moon_symbol = "☾")
}

}
