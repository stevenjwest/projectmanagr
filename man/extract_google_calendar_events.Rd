% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract-functions.R
\name{extract_google_calendar_events}
\alias{extract_google_calendar_events}
\title{Extract events from Google Calendar for one day}
\usage{
extract_google_calendar_events(
  day = Sys.Date(),
  settings = list(),
  auth_fn = default_google_auth,
  calendar_list_fn = default_calendar_list_fn,
  events_fn = default_events_list_fn
)
}
\arguments{
\item{day}{\code{\link[base:Dates]{Date}} Date to query (default: \code{Sys.Date()}).}

\item{settings}{\code{list} Named options; currently only
\code{googleCalendars = c("Calendar A", "Calendar B")}
to filter the calendar list.}

\item{auth_fn}{Function that performs authentication
(default: \code{\link[=default_google_auth]{default_google_auth()}}).}

\item{calendar_list_fn}{Function that returns the calendar list
as a two-column tibble (\code{id}, \code{summary}).}

\item{events_fn}{Function that fetches one calendar’s
events; must return the parsed JSON list produced by
googleAuthR/Calendar v3.}
}
\value{
A \link[tibble:tibble]{tibble} with the columns\
\code{calendar}, \code{summary}, \code{start}, \code{end}, \code{description}, \code{htmlLink},
\code{location}.
}
\description{
This convenience wrapper\
• \strong{authenticates} with Google Calendar via the builtin
\code{\link[=default_google_auth]{default_google_auth()}} helper;\
• retrieves the user’s \strong{calendar list} (or a subset supplied in
\code{settings$googleCalendars});\
• fetches \strong{all events} that start \emph{or} end on the requested \code{day}
(UTC, exclusive upper bound) and\
• returns the result as a tidy tibble with the most commonly used
columns.
}
\details{
Every heavy-lifting call (auth, calendar list, events) is injected as a
function argument so the behaviour can be \strong{unit-tested or mocked}
without hitting the network.
}
\section{Time handling}{

Google returns either \code{date} (all-day) \strong{or} \code{dateTime}
(time-specific) fields.
The helper collapses those into the single character columns
\code{start} / \code{end}, preserving the original RFC 3339 string when present.
}

